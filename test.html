<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GTA V Style Site</title>
<style>
  html, body {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
    background: #000;
  }
  canvas {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
  .blur-filter {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    backdrop-filter: blur(12px) brightness(1.2) saturate(1.8) contrast(1.3);
    z-index: 3;
    pointer-events: none;
  }
</style>
</head>
<body>
<canvas id="lights"></canvas>
<canvas id="shapes"></canvas>
<div class="blur-filter"></div>
<script>
const shapeCanvas = document.getElementById('shapes');
const shapeCtx = shapeCanvas.getContext('2d');
const lightCanvas = document.getElementById('lights');
const lightCtx = lightCanvas.getContext('2d');

function resize() {
  shapeCanvas.width = lightCanvas.width = window.innerWidth;
  shapeCanvas.height = lightCanvas.height = window.innerHeight;
}
window.addEventListener('resize', resize);
resize();

// CORES VIBRANTES DAS FORMAS
const COLORS = [
  '#FF3CAC', '#784BA0', '#2B86C5', '#FFB75E', '#ED8F03',
  '#23A6D5', '#23D5AB', '#EE7752', '#E73C7E', '#23A6D5'
];

class Shape {
  constructor() {
    this.sides = Math.floor(Math.random() * 6) + 3;
    this.size = Math.random() * 60 + 20;
    this.x = Math.random() * shapeCanvas.width;
    this.y = shapeCanvas.height + this.size;
    this.speed = Math.random() * 2 + 1;
    this.rotation = Math.random() * Math.PI;
    this.color = COLORS[Math.floor(Math.random() * COLORS.length)];
    this.spin = (Math.random() - 0.5) * 0.05;
  }
  update() {
    this.y -= this.speed;
    this.rotation += this.spin;
  }
  draw() {
    shapeCtx.save();
    shapeCtx.translate(this.x, this.y);
    shapeCtx.rotate(this.rotation);
    shapeCtx.beginPath();
    for (let i = 0; i < this.sides; i++) {
      const angle = (i / this.sides) * 2 * Math.PI;
      const px = Math.cos(angle) * this.size;
      const py = Math.sin(angle) * this.size;
      i === 0 ? shapeCtx.moveTo(px, py) : shapeCtx.lineTo(px, py);
    }
    shapeCtx.closePath();
    shapeCtx.fillStyle = this.color;
    shapeCtx.shadowColor = this.color;
    shapeCtx.shadowBlur = 25;
    shapeCtx.fill();
    shapeCtx.restore();
  }
}

// LUZES DIFUSAS (EFEITO GTA V)
class Light {
  constructor() {
    this.reset();
  }
  reset() {
    this.x = Math.random() * lightCanvas.width;
    this.y = Math.random() * lightCanvas.height;
    this.size = Math.random() * 250 + 150;
    this.color = Math.random() > 0.5 ? 'rgba(255,0,40,0.25)' : 'rgba(0,120,255,0.25)';
    this.alpha = 0;
    this.fadeSpeed = Math.random() * 0.02 + 0.01;
    this.growing = true;
  }
  update() {
    if (this.growing) {
      this.alpha += this.fadeSpeed;
      if (this.alpha >= 0.5 + Math.random() * 0.3) this.growing = false;
    } else {
      this.alpha -= this.fadeSpeed;
      if (this.alpha <= 0) this.reset();
    }
  }
  draw() {
    const gradient = lightCtx.createRadialGradient(this.x, this.y, 0, this.x, this.y, this.size);
    gradient.addColorStop(0, this.color.replace('0.25', this.alpha.toFixed(2)));
    gradient.addColorStop(1, 'rgba(0,0,0,0)');
    lightCtx.fillStyle = gradient;
    lightCtx.beginPath();
    lightCtx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
    lightCtx.fill();
  }
}

let shapes = [];
let lights = Array.from({ length: 10 }, () => new Light());

function spawnShape() {
  shapes.push(new Shape());
}

function animate() {
  // Luzes
  lightCtx.clearRect(0, 0, lightCanvas.width, lightCanvas.height);
  lightCtx.globalCompositeOperation = 'screen';
  lights.forEach(light => {
    light.update();
    light.draw();
  });

  // Formas
  shapeCtx.clearRect(0, 0, shapeCanvas.width, shapeCanvas.height);
  shapes.forEach((s, i) => {
    s.update();
    s.draw();
    if (s.y + s.size < 0) shapes.splice(i, 1);
  });
  
  requestAnimationFrame(animate);
}

setInterval(spawnShape, 200);
animate();
</script>
</body>
</html>
